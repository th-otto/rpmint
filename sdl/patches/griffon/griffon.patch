diff -rup griffon/Makefile griffon.new/Makefile
--- griffon/Makefile	2014-06-21 19:57:10.000000000 +0200
+++ griffon.new/Makefile	2023-12-03 11:50:28.023284727 +0100
@@ -4,11 +4,11 @@
 #
 
 NAME      = griffon
-CC        = gcc
-CFLAGS    = -g -O2 -Wall -Wextra -std=c99
+CC        = $(CROSS_PREFIX)gcc
+CFLAGS    = $(CPU_CFLAGS) -g -O2 -Wall -Wextra -std=c99
 INCS      = -I.
-LDFLAGS   =
-LIBS      = -lm -lSDL_gfx -lSDL -lSDL_image -lSDL_mixer
+LDFLAGS   = -s
+LIBS      = $(shell pkg-config --libs SDL_gfx SDL_image SDL_mixer)
 
 OBJS      = griffon.o config.o state.o
 
@@ -22,7 +22,7 @@ all: $(NAME)
 
 $(NAME): $(OBJS)
 	@mkdir -p build
-	$(CC) $(OBJS) $(LDFLAGS) $(LIBS) -o build/$@
+	$(CC) $(CFLAGS) $(OBJS) $(LDFLAGS) $(LIBS) -o build/$@
 
 %.o: %.c
 	$(CC) -c $(CFLAGS) $(INCS) $< -o $@
diff -rup griffon/config.c griffon.new/config.c
--- griffon/config.c	2014-06-21 19:57:10.000000000 +0200
+++ griffon.new/config.c	2023-12-03 12:21:19.100346655 +0100
@@ -29,7 +29,8 @@
 	320, 240, 16, 0, 0, 0, 1, 127, 1, 127
 };
 
-char config_ini[64] = "config.ini";
+/* must be large enough for $HOME/.griffon/config.ini */
+char config_ini[256] = "config.ini";
 
 #define PRINT(A,B) 			\
 do {					\
@@ -120,4 +121,4 @@ void config_save(CONFIG *config)
 		PRINT("%i", config->effectsvol);
 		fclose(fp);
 	}
-}
\ No newline at end of file
+}

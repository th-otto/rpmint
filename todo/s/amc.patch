diff -uNr mc-4.6.0/CVS/Entries amc-4.6/CVS/Entries
--- mc-4.6.0/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/CVS/Entries	Tue Oct 28 17:17:50 2003
@@ -0,0 +1,25 @@
+/ABOUT-NLS/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/AUTHORS/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/COPYING/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/FAQ/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/INSTALL/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/INSTALL.FAST/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/MAINTAINERS/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/NEWS/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/README/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/README.AMC/1.1/Tue Feb 11 00:42:51 2003//
+/README.PC/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/README.QNX/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/acinclude.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/aclocal.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/amc.configure/1.1/Tue Feb 11 00:36:09 2003//
+/config.h.in/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/configure/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/configure.in/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/extraconf.h/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/mc.spec/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/mc.spec.in/1.1.1.1/Mon Feb 10 23:16:44 2003//
+D
diff -uNr mc-4.6.0/CVS/Entries.Log amc-4.6/CVS/Entries.Log
--- mc-4.6.0/CVS/Entries.Log	Thu Jan  1 01:00:00 1970
+++ amc-4.6/CVS/Entries.Log	Tue Oct 28 17:24:14 2003
@@ -0,0 +1,12 @@
+A D/config////
+A D/doc////
+A D/edit////
+A D/intl////
+A D/lib////
+A D/m4////
+A D/pc////
+A D/po////
+A D/slang////
+A D/src////
+A D/syntax////
+A D/vfs////
diff -uNr mc-4.6.0/CVS/Repository amc-4.6/CVS/Repository
--- mc-4.6.0/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/CVS/Repository	Tue Oct 28 17:17:20 2003
@@ -0,0 +1 @@
+amc-4.6
diff -uNr mc-4.6.0/CVS/Root amc-4.6/CVS/Root
--- mc-4.6.0/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/CVS/Root	Tue Oct 28 17:17:20 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/README.AMC amc-4.6/README.AMC
--- mc-4.6.0/README.AMC	Thu Jan  1 01:00:00 1970
+++ amc-4.6/README.AMC	Tue Feb 11 00:42:50 2003
@@ -0,0 +1,37 @@
+What is AMC?
+============
+
+AMC (originally Advanced Midnight Commander) is my (A'rpi) branch of the
+well-known Midnight Commander, with my (and others') bugfix and feature
+patches applied.
+
+Why ?
+=====
+
+Because of merging in my patches to the official mc goes so slowly and
+as i have lots of small changes what hard to handle as patches/patchets,
+i've decided to setup CVS tree for my patched mc-4.6.x tree, so
+- users interested in it can easily get & test it
+- it's easier to me to commit & trace independent changes, patches
+- nice changelog can be generated easily from cvs log
+- you can get any change as patch using cvs diff
+- i can import & merge new mc releases/snapshots without messing up my patchset
+
+You may take it as a fork (what we both wanted to avoid) but since i'll try
+to keep merging with official mc cvs, it isn't a real fork, more like a branch.
+
+I'm also planning to apply some interesting patches posted to this list by
+others but refused or not yet accepted/applied.
+
+CVS:
+====
+
+cvs -z9 -d:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi login  (no password)
+cvs -z9 -d:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi co amc-4.6
+
+Contact:
+========
+
+Arpad Gereoffy (A'rpi) - arpi@mplayerhq.hu
+
+[i'm subscribed to mc-devel@gnome.org, so if you post there don't Cc: me!]
diff -uNr mc-4.6.0/amc.configure amc-4.6/amc.configure
--- mc-4.6.0/amc.configure	Thu Jan  1 01:00:00 1970
+++ amc-4.6/amc.configure	Tue Feb 11 00:36:08 2003
@@ -0,0 +1,3 @@
+CFLAGS=-O2 ; ./configure --prefix=/usr --with-included-gettext \
+  --with-ext2undel --without-gpm-mouse \
+  --with-vfs --with-screen=mcslang # --without-x
diff -uNr mc-4.6.0/config/CVS/Entries amc-4.6/config/CVS/Entries
--- mc-4.6.0/config/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/config/CVS/Entries	Tue Oct 28 17:17:54 2003
@@ -0,0 +1,8 @@
+/config.guess/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/config.rpath/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/config.sub/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/depcomp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/install-sh/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/missing/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mkinstalldirs/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/config/CVS/Repository amc-4.6/config/CVS/Repository
--- mc-4.6.0/config/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/config/CVS/Repository	Tue Oct 28 17:17:50 2003
@@ -0,0 +1 @@
+amc-4.6/config
diff -uNr mc-4.6.0/config/CVS/Root amc-4.6/config/CVS/Root
--- mc-4.6.0/config/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/config/CVS/Root	Tue Oct 28 17:17:50 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/config/mkinstalldirs amc-4.6/config/mkinstalldirs
--- mc-4.6.0/config/mkinstalldirs	Wed Feb  5 19:08:56 2003
+++ amc-4.6/config/mkinstalldirs	Mon Feb 10 23:16:44 2003
@@ -4,7 +4,7 @@
 # Created: 1993-05-16
 # Public domain
 
-# $Id: mkinstalldirs,v 1.1.1.1 2002/07/16 23:37:48 bruno Exp $
+# $Id: mkinstalldirs,v 1.1.1.1 2003/02/10 23:16:45 arpi Exp $
 
 errstatus=0
 
diff -uNr mc-4.6.0/doc/CVS/Entries amc-4.6/doc/CVS/Entries
--- mc-4.6.0/doc/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/CVS/Entries	Tue Oct 28 17:18:02 2003
@@ -0,0 +1,9 @@
+/DEVEL/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcedit.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcserv.8.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcview.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xnc.hlp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/doc/CVS/Entries.Log amc-4.6/doc/CVS/Entries.Log
--- mc-4.6.0/doc/CVS/Entries.Log	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/CVS/Entries.Log	Tue Oct 28 17:18:30 2003
@@ -0,0 +1,5 @@
+A D/es////
+A D/hu////
+A D/it////
+A D/pl////
+A D/ru////
diff -uNr mc-4.6.0/doc/CVS/Repository amc-4.6/doc/CVS/Repository
--- mc-4.6.0/doc/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/CVS/Repository	Tue Oct 28 17:17:54 2003
@@ -0,0 +1 @@
+amc-4.6/doc
diff -uNr mc-4.6.0/doc/CVS/Root amc-4.6/doc/CVS/Root
--- mc-4.6.0/doc/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/CVS/Root	Tue Oct 28 17:17:54 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/doc/es/CVS/Entries amc-4.6/doc/es/CVS/Entries
--- mc-4.6.0/doc/es/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/es/CVS/Entries	Tue Oct 28 17:18:08 2003
@@ -0,0 +1,5 @@
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xnc.hlp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/doc/es/CVS/Repository amc-4.6/doc/es/CVS/Repository
--- mc-4.6.0/doc/es/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/es/CVS/Repository	Tue Oct 28 17:18:02 2003
@@ -0,0 +1 @@
+amc-4.6/doc/es
diff -uNr mc-4.6.0/doc/es/CVS/Root amc-4.6/doc/es/CVS/Root
--- mc-4.6.0/doc/es/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/es/CVS/Root	Tue Oct 28 17:18:02 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/doc/hu/CVS/Entries amc-4.6/doc/hu/CVS/Entries
--- mc-4.6.0/doc/hu/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/hu/CVS/Entries	Tue Oct 28 17:18:14 2003
@@ -0,0 +1,5 @@
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xnc.hlp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/doc/hu/CVS/Repository amc-4.6/doc/hu/CVS/Repository
--- mc-4.6.0/doc/hu/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/hu/CVS/Repository	Tue Oct 28 17:18:08 2003
@@ -0,0 +1 @@
+amc-4.6/doc/hu
diff -uNr mc-4.6.0/doc/hu/CVS/Root amc-4.6/doc/hu/CVS/Root
--- mc-4.6.0/doc/hu/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/hu/CVS/Root	Tue Oct 28 17:18:08 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/doc/it/CVS/Entries amc-4.6/doc/it/CVS/Entries
--- mc-4.6.0/doc/it/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/it/CVS/Entries	Tue Oct 28 17:18:20 2003
@@ -0,0 +1,5 @@
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xnc.hlp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/doc/it/CVS/Repository amc-4.6/doc/it/CVS/Repository
--- mc-4.6.0/doc/it/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/it/CVS/Repository	Tue Oct 28 17:18:14 2003
@@ -0,0 +1 @@
+amc-4.6/doc/it
diff -uNr mc-4.6.0/doc/it/CVS/Root amc-4.6/doc/it/CVS/Root
--- mc-4.6.0/doc/it/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/it/CVS/Root	Tue Oct 28 17:18:14 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/doc/pl/CVS/Entries amc-4.6/doc/pl/CVS/Entries
--- mc-4.6.0/doc/pl/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/pl/CVS/Entries	Tue Oct 28 17:18:30 2003
@@ -0,0 +1,5 @@
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xnc.hlp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/doc/pl/CVS/Repository amc-4.6/doc/pl/CVS/Repository
--- mc-4.6.0/doc/pl/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/pl/CVS/Repository	Tue Oct 28 17:18:20 2003
@@ -0,0 +1 @@
+amc-4.6/doc/pl
diff -uNr mc-4.6.0/doc/pl/CVS/Root amc-4.6/doc/pl/CVS/Root
--- mc-4.6.0/doc/pl/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/pl/CVS/Root	Tue Oct 28 17:18:20 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/doc/ru/CVS/Entries amc-4.6/doc/ru/CVS/Entries
--- mc-4.6.0/doc/ru/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/ru/CVS/Entries	Tue Oct 28 17:18:36 2003
@@ -0,0 +1,5 @@
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.1.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xnc.hlp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/doc/ru/CVS/Repository amc-4.6/doc/ru/CVS/Repository
--- mc-4.6.0/doc/ru/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/ru/CVS/Repository	Tue Oct 28 17:18:30 2003
@@ -0,0 +1 @@
+amc-4.6/doc/ru
diff -uNr mc-4.6.0/doc/ru/CVS/Root amc-4.6/doc/ru/CVS/Root
--- mc-4.6.0/doc/ru/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/doc/ru/CVS/Root	Tue Oct 28 17:18:30 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/edit/CVS/Entries amc-4.6/edit/CVS/Entries
--- mc-4.6.0/edit/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/edit/CVS/Entries	Tue Oct 28 17:18:44 2003
@@ -0,0 +1,17 @@
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/bookmark.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/edit-widget.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/edit.c/1.3/Thu Feb 13 00:33:44 2003//
+/edit.h/1.2/Thu Feb 13 00:33:44 2003//
+/editcmd.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/editcmddef.h/1.2/Mon Feb 10 23:27:02 2003//
+/editdraw.c/1.2/Thu Feb 13 00:33:44 2003//
+/editkeys.c/1.2/Mon Feb 10 23:27:02 2003//
+/editmenu.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/editoptions.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/editwidget.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/syntax.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/wordproc.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/edit/CVS/Repository amc-4.6/edit/CVS/Repository
--- mc-4.6.0/edit/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/edit/CVS/Repository	Tue Oct 28 17:18:36 2003
@@ -0,0 +1 @@
+amc-4.6/edit
diff -uNr mc-4.6.0/edit/CVS/Root amc-4.6/edit/CVS/Root
--- mc-4.6.0/edit/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/edit/CVS/Root	Tue Oct 28 17:18:36 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/edit/edit.c amc-4.6/edit/edit.c
--- mc-4.6.0/edit/edit.c	Mon Dec 23 11:13:34 2002
+++ amc-4.6/edit/edit.c	Thu Feb 13 00:33:44 2003
@@ -1253,7 +1253,8 @@
 		return col;
 	    else
 		return p;
-	} else if (c < 32 || c == 127)
+	}
+	else if (option_editor_prefix_control_chars && (c < 32 || c == 127))
 	    col += 2; /* Caret notation for control characters */
 	else
 	    col++;
@@ -2483,6 +2484,11 @@
 	break;
     case CK_Insert_File:
 	edit_insert_file_cmd (edit);
+	break;
+
+    case CK_Toggle_Syntax:
+	option_syntax_highlighting^=1;
+	edit->force |= REDRAW_PAGE;
 	break;
 
     case CK_Find:
diff -uNr mc-4.6.0/edit/edit.h amc-4.6/edit/edit.h
--- mc-4.6.0/edit/edit.h	Mon Jan 27 17:00:12 2003
+++ amc-4.6/edit/edit.h	Thu Feb 13 00:33:44 2003
@@ -304,6 +304,7 @@
 extern int option_return_does_auto_indent;
 extern int option_backspace_through_tabs;
 extern int option_fake_half_tabs;
+extern int option_editor_prefix_control_chars;
 
 typedef enum {
     EDIT_QUICK_SAVE = 0,
diff -uNr mc-4.6.0/edit/editcmddef.h amc-4.6/edit/editcmddef.h
--- mc-4.6.0/edit/editcmddef.h	Mon Jan 21 18:49:56 2002
+++ amc-4.6/edit/editcmddef.h	Mon Feb 10 23:27:02 2003
@@ -104,6 +104,8 @@
 #define CK_Check_Save_And_Quit	457
 #define CK_Maximize		458
 
+#define CK_Toggle_Syntax	480
+
 /* macro */
 #define CK_Begin_Record_Macro	501
 #define CK_End_Record_Macro	502
diff -uNr mc-4.6.0/edit/editdraw.c amc-4.6/edit/editdraw.c
--- mc-4.6.0/edit/editdraw.c	Sun Dec 15 19:55:52 2002
+++ amc-4.6/edit/editdraw.c	Thu Feb 13 00:33:44 2003
@@ -45,6 +45,7 @@
 #define FONT_PIX_PER_LINE 1
 #define FONT_MEAN_WIDTH 1
 
+int option_editor_prefix_control_chars=0;
 
 static void status_string (WEdit * edit, char *s, int w, int fill)
 {
@@ -202,7 +203,9 @@
 	    color = 0;
 	}
 
-	if (style & MOD_BOLD) {
+	if (style & MOD_MARKED && (style & (MOD_ABNORMAL|MOD_BOLD))) {
+	    set_color (EDITOR_BOLD_MARKED_COLOR);
+	} else if (style & MOD_BOLD) {
 	    set_color (EDITOR_BOLD_COLOR);
 	} else if (style & MOD_MARKED) {
 	    set_color (EDITOR_MARKED_COLOR);
@@ -289,23 +292,20 @@
 		    c = convert_to_display_c (c);
 
 		    /* Caret notation for control characters */
-		    if (c < 32) {
-			*(p++) = '^' | MOD_ABNORMAL;
-			*(p++) = (c + 0x40) | MOD_ABNORMAL;
-			col += 2;
-			break;
-		    }
-		    if (c == 127) {
-			*(p++) = '^' | MOD_ABNORMAL;
-			*(p++) = '?' | MOD_ABNORMAL;
-			col += 2;
+		    if (c < 32 || c == 127) {
+			int mod = (*p & MOD_MARKED);
+			if(option_editor_prefix_control_chars){
+			    *(p++) = '^' | MOD_ABNORMAL; ++col;
+			}
+			*(p++) = (c == 127 ? '?' : (c + 0x40)) | MOD_ABNORMAL | mod;
+			++col;
 			break;
 		    }
 
 		    if (is_printable (c)) {
 			*(p++) |= c;
 		    } else {
-			*(p++) = '.' | MOD_ABNORMAL;
+			*(p++) = '.' | MOD_ABNORMAL | (*p & MOD_MARKED);
 		    }
 		    col++;
 		    break;
diff -uNr mc-4.6.0/edit/editkeys.c amc-4.6/edit/editkeys.c
--- mc-4.6.0/edit/editkeys.c	Wed Dec 25 23:53:06 2002
+++ amc-4.6/edit/editkeys.c	Mon Feb 10 23:27:02 2003
@@ -53,6 +53,7 @@
     '\t', CK_Tab,
     XCTRL ('u'), CK_Undo,
     KEY_IC, CK_Toggle_Insert,
+    XCTRL ('s'), CK_Toggle_Syntax,
     XCTRL ('o'), CK_Shell,
     KEY_F (3), CK_Mark,
     KEY_F (13), CK_Column_Mark,
diff -uNr mc-4.6.0/intl/CVS/Entries amc-4.6/intl/CVS/Entries
--- mc-4.6.0/intl/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/intl/CVS/Entries	Tue Oct 28 17:18:54 2003
@@ -0,0 +1,38 @@
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/VERSION/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/bindtextdom.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/config.charset/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dcgettext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dcigettext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dcngettext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dgettext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dngettext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/eval-plural.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/explodename.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/finddomain.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/gettext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/gettextP.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/gmo.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/hash-string.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/intl-compat.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/l10nflist.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/libgnuintl.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/loadinfo.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/loadmsgcat.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/localcharset.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/locale.alias/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/localealias.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/localename.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ngettext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/os2compat.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/os2compat.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/osdep.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/plural-exp.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/plural-exp.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/plural.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/plural.y/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ref-add.sin/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ref-del.sin/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/textdomain.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/intl/CVS/Repository amc-4.6/intl/CVS/Repository
--- mc-4.6.0/intl/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/intl/CVS/Repository	Tue Oct 28 17:18:44 2003
@@ -0,0 +1 @@
+amc-4.6/intl
diff -uNr mc-4.6.0/intl/CVS/Root amc-4.6/intl/CVS/Root
--- mc-4.6.0/intl/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/intl/CVS/Root	Tue Oct 28 17:18:44 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/lib/CVS/Entries amc-4.6/lib/CVS/Entries
--- mc-4.6.0/lib/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/lib/CVS/Entries	Tue Oct 28 17:18:58 2003
@@ -0,0 +1,34 @@
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/README.xterm/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ansi.ti/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cedit.menu/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/edit.indent.rc/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/edit.spell.rc/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/linux.ti/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc-wrapper.csh.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc-wrapper.sh.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.charsets/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.csh.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.ext.in/1.2/Mon Feb 10 23:28:58 2003//
+/mc.hint/1.2/Wed Feb 12 23:42:04 2003//
+/mc.hint.cs/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.es/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.hu/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.it/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.nl/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.pl/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.ru/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.uk/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.hint.zh/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.lib/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.menu/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.sh.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcserv.init/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcserv.pamd/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tdiff/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/vt100.ti/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xterm.ad/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xterm.tcap/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xterm.ti/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/lib/CVS/Repository amc-4.6/lib/CVS/Repository
--- mc-4.6.0/lib/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/lib/CVS/Repository	Tue Oct 28 17:18:54 2003
@@ -0,0 +1 @@
+amc-4.6/lib
diff -uNr mc-4.6.0/lib/CVS/Root amc-4.6/lib/CVS/Root
--- mc-4.6.0/lib/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/lib/CVS/Root	Tue Oct 28 17:18:54 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/lib/mc.ext.in amc-4.6/lib/mc.ext.in
--- mc-4.6.0/lib/mc.ext.in	Thu Jan 30 16:48:32 2003
+++ amc-4.6/lib/mc.ext.in	Mon Feb 10 23:28:58 2003
@@ -422,6 +422,13 @@
 	Open=%cd %p#uarj
 	View=%view{ascii} unarj l %f
 
+# esp
+regex/\.e(sp|[0-9][0-9])$
+	Open=%cd %p#uesp
+	View=%view{ascii} unesp v %f
+	Extract=unesp x %f
+	Icon=compressed.xpm
+
 # ha
 regex/\.(ha|HA|Ha)$
 	Open=%cd %p#uha
@@ -491,8 +498,11 @@
 
 # deb
 regex/\.deb$
-	Open=%cd %p#deb
-	View=%view{ascii} dpkg-deb -c %f
+	Open=%cd %p#uar
+	View=%view{ascii} ar p %f control.tar.gz | tar xzO control ./control 2>/dev/null ; echo "" ; echo "Filelist:" ; ar p %f data.tar.gz | tar tzv
+# for systems with dpkg:
+#	Open=%cd %p#deb
+#	View=%view{ascii} dpkg-deb -c %f
 
 
 ### Default ###
diff -uNr mc-4.6.0/lib/mc.hint amc-4.6/lib/mc.hint
--- mc-4.6.0/lib/mc.hint	Wed Oct 23 07:22:16 2002
+++ amc-4.6/lib/mc.hint	Wed Feb 12 23:42:04 2003
@@ -1,4 +1,4 @@
-Midnight Commander (c) 1995-2001 The Free Software Foundation
+Midnight Commander (c) 1995-2003 The Free Software Foundation
 Hint: Use C-x t to copy tagged file names to the command line.
 Hint: Use C-x p to copy the current pathname to the command line.
 Hint: Completion: use M-Tab (or Esc+Tab).  Type it twice to get a list.
diff -uNr mc-4.6.0/m4/CVS/Entries amc-4.6/m4/CVS/Entries
--- mc-4.6.0/m4/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/m4/CVS/Entries	Tue Oct 28 17:19:02 2003
@@ -0,0 +1,23 @@
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/README/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/codeset.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/gettext.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/glib.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/glibc21.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/iconv.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/intdiv0.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/inttypes-pri.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/inttypes.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/inttypes_h.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/isc-posix.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/lcmessage.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/lib-ld.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/lib-link.m4/1.1.1.1/Mon Feb 10 23:16:44 2003//
+/lib-prefix.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pkg.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/progtest.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/stdint_h.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uintmax_t.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ulonglong.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/m4/CVS/Repository amc-4.6/m4/CVS/Repository
--- mc-4.6.0/m4/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/m4/CVS/Repository	Tue Oct 28 17:18:58 2003
@@ -0,0 +1 @@
+amc-4.6/m4
diff -uNr mc-4.6.0/m4/CVS/Root amc-4.6/m4/CVS/Root
--- mc-4.6.0/m4/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/m4/CVS/Root	Tue Oct 28 17:18:58 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/pc/CVS/Entries amc-4.6/pc/CVS/Entries
--- mc-4.6.0/pc/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/pc/CVS/Entries	Tue Oct 28 17:19:04 2003
@@ -0,0 +1,28 @@
+/BUGS/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.BC5/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.MIN/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.PC/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.RSX/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.VC4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/README/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/TODO/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/chmod.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/config.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cons_nt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dirent_nt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/drive.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/drive.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/key_nt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.rc/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc_nt.ico/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slint_pc.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/trace_nt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/trace_nt.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_nt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_win32.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_win32.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_winnt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/pc/CVS/Repository amc-4.6/pc/CVS/Repository
--- mc-4.6.0/pc/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/pc/CVS/Repository	Tue Oct 28 17:19:02 2003
@@ -0,0 +1 @@
+amc-4.6/pc
diff -uNr mc-4.6.0/pc/CVS/Root amc-4.6/pc/CVS/Root
--- mc-4.6.0/pc/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/pc/CVS/Root	Tue Oct 28 17:19:02 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/po/CVS/Entries amc-4.6/po/CVS/Entries
--- mc-4.6.0/po/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/po/CVS/Entries	Tue Oct 28 17:22:14 2003
@@ -0,0 +1,79 @@
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makevars/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/POTFILES.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Rules-quot/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/az.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/az.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/be.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/be.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/bg.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/bg.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/boldquot.sed/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ca.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ca.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cs.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cs.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/da.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/da.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/de.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/de.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/el.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/el.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/en@boldquot.header/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/en@quot.header/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/es.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/es.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/eu.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/eu.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fi.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fi.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fr.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fr.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/hu.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/hu.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/insert-header.sin/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/it.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/it.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ja.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ja.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ko.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ko.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/lv.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/lv.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mc.pot/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/nl.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/nl.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/no.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/no.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pl.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pl.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pt.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pt.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pt_BR.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pt_BR.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/quot.sed/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/remove-potcdate.sin/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ro.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ro.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ru.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ru.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sk.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sk.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sl.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sl.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sv.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sv.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ta.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ta.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tr.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tr.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uk.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uk.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/wa.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/wa.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/zh_CN.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/zh_CN.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/zh_TW.gmo/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/zh_TW.po/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/po/CVS/Repository amc-4.6/po/CVS/Repository
--- mc-4.6.0/po/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/po/CVS/Repository	Tue Oct 28 17:19:04 2003
@@ -0,0 +1 @@
+amc-4.6/po
diff -uNr mc-4.6.0/po/CVS/Root amc-4.6/po/CVS/Root
--- mc-4.6.0/po/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/po/CVS/Root	Tue Oct 28 17:19:04 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/slang/CVS/Entries amc-4.6/slang/CVS/Entries
--- mc-4.6.0/slang/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/slang/CVS/Entries	Tue Oct 28 17:22:22 2003
@@ -0,0 +1,15 @@
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/README/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sldisply.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slerr.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slgetkey.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slmisc.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slsignal.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slsmg.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sltermin.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slutty.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slvideo.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slw32tty.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/slang/CVS/Entries.Log amc-4.6/slang/CVS/Entries.Log
--- mc-4.6.0/slang/CVS/Entries.Log	Thu Jan  1 01:00:00 1970
+++ amc-4.6/slang/CVS/Entries.Log	Tue Oct 28 17:22:22 2003
@@ -0,0 +1 @@
+A D/include////
diff -uNr mc-4.6.0/slang/CVS/Repository amc-4.6/slang/CVS/Repository
--- mc-4.6.0/slang/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/slang/CVS/Repository	Tue Oct 28 17:22:14 2003
@@ -0,0 +1 @@
+amc-4.6/slang
diff -uNr mc-4.6.0/slang/CVS/Root amc-4.6/slang/CVS/Root
--- mc-4.6.0/slang/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/slang/CVS/Root	Tue Oct 28 17:22:14 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/slang/include/CVS/Entries amc-4.6/slang/include/CVS/Entries
--- mc-4.6.0/slang/include/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/slang/include/CVS/Entries	Tue Oct 28 17:22:24 2003
@@ -0,0 +1,7 @@
+/_slang.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/jdmacros.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sl-feat.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slang.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slinclud.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sllimits.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/slang/include/CVS/Repository amc-4.6/slang/include/CVS/Repository
--- mc-4.6.0/slang/include/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/slang/include/CVS/Repository	Tue Oct 28 17:22:22 2003
@@ -0,0 +1 @@
+amc-4.6/slang/include
diff -uNr mc-4.6.0/slang/include/CVS/Root amc-4.6/slang/include/CVS/Root
--- mc-4.6.0/slang/include/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/slang/include/CVS/Root	Tue Oct 28 17:22:22 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/src/CVS/Entries amc-4.6/src/CVS/Entries
--- mc-4.6.0/src/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/src/CVS/Entries	Tue Oct 28 17:24:10 2003
@@ -0,0 +1,126 @@
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/OChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/TODO/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/achown.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/achown.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/background.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/background.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/boxes.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/boxes.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/charsets.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/charsets.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/chmod.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/chmod.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/chown.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/chown.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cmd.c/1.2/Mon Feb 10 23:30:34 2003//
+/cmd.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/color.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/color.h/1.2/Thu Feb 13 00:33:44 2003//
+/command.c/1.2/Mon Feb 10 23:31:11 2003//
+/command.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/complete.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/complete.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cons.handler.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cons.saver.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cons.saver.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dialog.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dialog.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dir.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dir.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dlg.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dlg.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/eregex.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ext.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ext.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/file.c/1.2/Mon Feb 10 23:37:17 2003//
+/file.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/filegui.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/filegui.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/filenot.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fileopctx.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fileopctx.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/find.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/find.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/findme.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/findme.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fs.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fsusage.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fsusage.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/global.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/help.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/help.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/hotlist.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/hotlist.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/i18n.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/info.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/info.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/key.c/1.2/Mon Feb 10 23:38:30 2003//
+/key.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/keyxdef.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/layout.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/layout.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/learn.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/learn.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/listmode.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/listmode.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/main.c/1.4/Sun Feb 16 01:15:14 2003//
+/main.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/man2hlp.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/menu.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/menu.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mfmt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mountlist.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mountlist.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mouse.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mouse.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/myslang.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/option.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/option.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/panel.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/panelize.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/panelize.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/popt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/popt.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/poptalloca.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/poptconfig.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/popthelp.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/poptint.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/poptparse.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/profile.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/profile.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/regex.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rxvt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/screen.c/1.2/Mon Feb 10 23:43:45 2003//
+/selcodepage.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/selcodepage.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/setup.c/1.3/Thu Feb 13 00:33:44 2003//
+/setup.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slint.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/subshell.c/1.2/Mon Feb 10 23:45:10 2003//
+/subshell.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/terms.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/text.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/textconf.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/textconf.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tree.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tree.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/treestore.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/treestore.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tty.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/user.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/user.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/utilunix.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/view.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/view.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/widget.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/widget.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/win.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/win.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/wtools.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/wtools.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/src/CVS/Repository amc-4.6/src/CVS/Repository
--- mc-4.6.0/src/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/src/CVS/Repository	Tue Oct 28 17:22:24 2003
@@ -0,0 +1 @@
+amc-4.6/src
diff -uNr mc-4.6.0/src/CVS/Root amc-4.6/src/CVS/Root
--- mc-4.6.0/src/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/src/CVS/Root	Tue Oct 28 17:22:24 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/src/cmd.c amc-4.6/src/cmd.c
--- mc-4.6.0/src/cmd.c	Wed Feb  5 16:54:32 2003
+++ amc-4.6/src/cmd.c	Mon Feb 10 23:30:34 2003
@@ -515,6 +515,7 @@
     int i;
     int c;
     int dirflag = 0;
+    int fileflag = 1;
 
     reg_exp = input_dialog (_(" Select "), "", easy_patterns ? "*" : ".");
     if (!reg_exp)
@@ -527,8 +528,9 @@
         dirflag = 1;
         reg_exp_t++;
     }
-    if (reg_exp_t [strlen(reg_exp_t) - 1] == PATH_SEP){
+    if ((*reg_exp_t) && reg_exp_t [strlen(reg_exp_t) - 1] == PATH_SEP){
         dirflag = 1;
+	fileflag = 0;
         reg_exp_t [strlen(reg_exp_t) - 1] = 0;
     }
 
@@ -539,7 +541,7 @@
 	    if (!dirflag)
                 continue;
         } else {
-            if (dirflag)
+            if (!fileflag)
                 continue;
 	}
 	c = regexp_match (reg_exp_t, cpanel->dir.list [i].fname, match_file);
@@ -562,6 +564,7 @@
     int i;
     int c;
     int dirflag = 0;
+    int fileflag = 1;
 
     reg_exp = input_dialog (_(" Unselect "),"", easy_patterns ? "*" : ".");
     if (!reg_exp)
@@ -574,8 +577,9 @@
         dirflag = 1;
 	reg_exp_t ++;
     }
-    if (reg_exp_t [strlen(reg_exp_t) - 1] == PATH_SEP){
+    if ((*reg_exp_t) && reg_exp_t [strlen(reg_exp_t) - 1] == PATH_SEP){
         dirflag = 1;
+	fileflag = 0;
         reg_exp_t [strlen(reg_exp_t) - 1] = 0;
     }
     for (i = 0; i < cpanel->count; i++){
@@ -585,7 +589,7 @@
 	    if (!dirflag)
 	        continue;
         } else {
-            if (dirflag)
+            if (!fileflag)
                 continue;
         }
 	c = regexp_match (reg_exp_t, cpanel->dir.list [i].fname, match_file);
diff -uNr mc-4.6.0/src/color.h amc-4.6/src/color.h
--- mc-4.6.0/src/color.h	Mon Oct 14 01:55:38 2002
+++ amc-4.6/src/color.h	Thu Feb 13 00:33:44 2003
@@ -80,6 +80,7 @@
 #define EDITOR_NORMAL_COLOR          IF_COLOR (EDITOR_NORMAL_COLOR_INDEX, 0)
 #define EDITOR_BOLD_COLOR            IF_COLOR (35, A_BOLD)
 #define EDITOR_MARKED_COLOR          IF_COLOR (36, A_REVERSE)
+#define EDITOR_BOLD_MARKED_COLOR     IF_COLOR (4, A_BOLD|A_REVERSE)
 
 #ifdef HAVE_SLANG
 #   define CTYPE char *
diff -uNr mc-4.6.0/src/command.c amc-4.6/src/command.c
--- mc-4.6.0/src/command.c	Thu Nov 14 08:25:18 2002
+++ amc-4.6/src/command.c	Mon Feb 10 23:31:10 2003
@@ -41,6 +41,27 @@
 /* This holds the command line */
 WInput *cmdline;
 
+/* Wildcard matching routine by A'rpi/ESP-team */
+static int wildcard_cmp_names(char *n,char *m){
+next:
+  if(m[0]=='*'){
+    int i;
+    m++;
+    if(m[0]==0) return 1;
+    while(n[0]){
+      if(wildcard_cmp_names(n,m)) return 1;
+      n++;
+    }
+    return 0;
+  }
+  if(n[0]==m[0] || (m[0]=='?' && n[0])){
+    if(n[0]==0) return 1;
+    n++;m++;
+    goto next;
+  }
+  return 0;
+}
+
 /*Tries variable substitution, and if a variable CDPATH
 of the form e.g. CDPATH=".:~:/usr" exists, we try then all the paths which
 are mentioned there. Also, we do not support such extraordinary things as
@@ -93,8 +114,37 @@
         }
     }
     *r = 0;
-    
+
     result = do_cd (q, cd_parse_command);
+
+    if(!result && strchr(q,92)){
+      // quoted dirname
+      char *q2=g_malloc(strlen(q)+1);
+      char *s=q;
+      char *d=q2;
+      int c;
+      do{
+        c=*s++;
+        if(c==92 || c=='%') c=*s++;
+        *d++=c;
+      } while(c);
+      free(q);
+      q=q2;
+      result = do_cd (q, cd_parse_command);
+    }
+    
+    if(!result && (strchr(q,'*')||strchr(q,'?'))){
+	// wildcarded dirname
+	int i;
+        for (i = 0; i < cpanel->count; i++)
+    	    if(S_ISDIR(cpanel->dir.list [i].buf.st_mode)){
+		if(wildcard_cmp_names(cpanel->dir.list [i].fname,q)){
+		    // found it!!!
+		    result = do_cd (cpanel->dir.list [i].fname, cd_parse_command);
+		    if(result) break;
+		}
+	    }
+    }
 
     /* CDPATH handling */
     if (*q != PATH_SEP && !result) {
diff -uNr mc-4.6.0/src/file.c amc-4.6/src/file.c
--- mc-4.6.0/src/file.c	Thu Dec 26 20:04:10 2002
+++ amc-4.6/src/file.c	Mon Feb 10 23:37:16 2003
@@ -107,6 +107,9 @@
 /* If on, default for "No" in delete operations */
 int safe_delete = 0;
 
+/* Beep never (0), after 2+ file ops (1), or after any file ops (2) */
+int op_beep_when_finished = 0;
+
 /* This is a hard link cache */
 struct link {
     struct link *next;
@@ -2150,6 +2153,10 @@
 	g_free (ctx->dest_mask);
 	ctx->dest_mask = NULL;
     }
+
+    if( (op_beep_when_finished==2) || (!only_one && op_beep_when_finished==1) )
+        SLtt_beep();
+
 #ifdef WITH_BACKGROUND
     /* Let our parent know we are saying bye bye */
     if (we_are_background) {
diff -uNr mc-4.6.0/src/key.c amc-4.6/src/key.c
--- mc-4.6.0/src/key.c	Mon Jan 27 23:37:56 2003
+++ amc-4.6/src/key.c	Mon Feb 10 23:38:30 2003
@@ -675,6 +675,18 @@
 	                c = KEY_F (c-'0');
 		    else if (c == ' ')
 			c = ESC_CHAR;
+                    else switch (c){
+                        case '!': c = KEY_F(11);break;
+                        case '@': c = KEY_F(12);break;
+                        case '#': c = KEY_F(13);break;
+                        case '$': c = KEY_F(14);break;
+                        case '%': c = KEY_F(15);break;
+                        case '^': c = KEY_F(16);break;
+                        case '&': c = KEY_F(17);break;
+                        case '*': c = KEY_F(18);break;
+                        case '(': c = KEY_F(19);break;
+                        case ')': c = KEY_F(20);break;
+                    }
 		    pending_keys = seq_append = NULL;
 		    this = NULL;
 		    return correct_key_code (c);
diff -uNr mc-4.6.0/src/main.c amc-4.6/src/main.c
--- mc-4.6.0/src/main.c	Wed Feb  5 16:54:34 2003
+++ amc-4.6/src/main.c	Sun Feb 16 01:15:14 2003
@@ -227,6 +227,12 @@
    are tagged files */
 int confirm_view_dir = 0;
 
+/* Command prompt type: 0=no_prompt  1=CWD  2=get_from_subshell */
+int command_prompt_type = 2;
+
+/* Allow subshell to change MC's CWD */
+int allow_subshell_chdir = 1;
+
 /* This flag indicates if the pull down menus by default drop down */
 int drop_menus = 0;
 
@@ -462,6 +468,7 @@
 void
 do_possible_cd (char *new_dir)
 {
+    if(!allow_subshell_chdir) return;
     if (!do_cd (new_dir, cd_exact))
 	message (1, _("Warning"),
 		 _(" The Commander can't change to the directory that \n"
@@ -543,6 +550,7 @@
 	    fflush (stdout);
 	    mc_raw_mode ();
 	    getch ();
+//            get_key_code(0);
 	}
 	if (console_flag) {
 	    if (output_lines && keybar_visible) {
@@ -867,8 +875,18 @@
     if (current_dlg == midnight_dlg && command_prompt) {
 	int prompt_len;
 
-	prompt = strip_ctrl_codes (subshell_prompt);
-	prompt_len = strlen (prompt);
+	if(command_prompt_type==0){
+	    prompt = (geteuid () == 0) ? "# " : "$ ";
+	} else
+	if(command_prompt_type==1){
+	    prompt = cpanel->cwd;
+	} else
+	if(command_prompt_type==2){
+	    prompt = strip_ctrl_codes (subshell_prompt);
+	} else
+	    prompt = "C:\\> ";
+        prompt_len = strlen (prompt);
+        if(command_prompt_type==1) ++prompt_len;
 
 	/* Check for prompts too big */
 	if (COLS > 8 && prompt_len > COLS - 8) {
@@ -1027,7 +1045,7 @@
     {' ', N_("&Quick cd          M-c"), 'Q', quick_cd_cmd},
     {' ', "", ' ', 0},
     {' ', N_("select &Group      M-+"), 'G', select_cmd},
-    {' ', N_("u&Nselect group    M-\\"), 'N', unselect_cmd},
+    {' ', N_("u&Nselect group    M--"), 'N', unselect_cmd},
     {' ', N_("reverse selec&Tion M-*"), 'T', reverse_selection_cmd},
     {' ', "", ' ', 0},
     {' ', N_("e&Xit              F10"), 'X', quit_cmd}
@@ -1479,6 +1497,7 @@
 
     /* To access the directory hotlist */
     {XCTRL ('\\'), quick_chdir_cmd},
+    {ALT('\\'), quick_chdir_cmd },
 
     /* Suspend */
     {XCTRL ('z'), suspend_cmd},
@@ -2414,6 +2433,16 @@
 {
     /* if on, it displays the information that files have been moved to ~/.mc */
     int show_change_notice = 0;
+
+    if(getenv("MC_CONTROL_PID")){
+        printf("It is NOT a good idea running mc from mc!\n");
+        exit(1);
+    }
+
+    {	char mypid[40];
+	sprintf(mypid,"MC_CONTROL_PID=%d",getpid());
+	putenv (mypid);
+    }
 
     /* We had LC_CTYPE before, LC_ALL includs LC_TYPE as well */
     setlocale (LC_ALL, "");
diff -uNr mc-4.6.0/src/screen.c amc-4.6/src/screen.c
--- mc-4.6.0/src/screen.c	Tue Jan 28 23:58:22 2003
+++ amc-4.6/src/screen.c	Mon Feb 10 23:43:44 2003
@@ -2100,7 +2100,7 @@
     { ALT('u'),   directory_history_next },
     { ALT('+'),	  select_cmd },
     { KEY_KP_ADD, select_cmd },
-    { ALT('\\'),  unselect_cmd },
+//    { ALT('\\'),  unselect_cmd },
     { ALT('-'),	  unselect_cmd },
     { KEY_KP_SUBTRACT, unselect_cmd },
     { ALT('*'),	  reverse_selection_cmd },
diff -uNr mc-4.6.0/src/setup.c amc-4.6/src/setup.c
--- mc-4.6.0/src/setup.c	Thu Jan 23 16:51:00 2003
+++ amc-4.6/src/setup.c	Thu Feb 13 00:33:44 2003
@@ -58,6 +58,11 @@
 
 extern int num_history_items_recorded;
 
+extern int subshell_blocks_ctrlo;
+extern int command_prompt_type;
+extern int allow_subshell_chdir;
+extern int op_beep_when_finished;
+
 char *profile_name;		/* .mc/ini */
 char *global_profile_name;	/* mc.lib */
 
@@ -124,6 +129,7 @@
     { "xterm_title", &xterm_title },
     { "output_lines", &output_lines },
     { "command_prompt", &command_prompt },
+    { "command_prompt_type", &command_prompt_type },
     { "menubar_visible", &menubar_visible },
     { "show_mini_info", &show_mini_info },
     { "permission_mode", &permission_mode },
@@ -154,6 +160,7 @@
     { "confirm_execute", &confirm_execute },
     { "confirm_exit", &confirm_exit },
     { "safe_delete", &safe_delete },
+    { "beep_when_finished", &op_beep_when_finished },
     { "mouse_repeat_rate", &mou_auto_repeat },
     { "double_click_speed", &double_click_speed },
 #ifndef HAVE_CHARSET
@@ -178,6 +185,8 @@
     { "alternate_plus_minus", &alternate_plus_minus },
     { "only_leading_plus_minus", &only_leading_plus_minus },
     { "show_output_starts_shell", &output_starts_shell },
+    { "allow_subshell_chdir", &allow_subshell_chdir },
+    { "subshell_blocks_ctrlo", &subshell_blocks_ctrlo },
     { "panel_scroll_pages", &panel_scroll_pages },
     { "xtree_mode", &xtree_mode },
     { "num_history_items_recorded", &num_history_items_recorded },
@@ -209,6 +218,7 @@
     { "editor_option_typewriter_wrap", &option_typewriter_wrap },
     { "editor_edit_confirm_save", &edit_confirm_save },
     { "editor_syntax_highlighting", &option_syntax_highlighting },
+    { "editor_prefix_control_chars", &option_editor_prefix_control_chars },
 #endif /* USE_INTERNAL_EDIT */
 
     { "nice_rotating_dash", &nice_rotating_dash },
diff -uNr mc-4.6.0/src/subshell.c amc-4.6/src/subshell.c
--- mc-4.6.0/src/subshell.c	Fri Jan 24 22:37:28 2003
+++ amc-4.6/src/subshell.c	Mon Feb 10 23:45:10 2003
@@ -100,6 +100,9 @@
 TRUE;
 #endif
 
+/* Don't allow ctrl+o (panels ON) if shell already dunning a command: */
+int subshell_blocks_ctrlo=1;
+
 /* File descriptor of the pseudoterminal used by the subshell */
 int subshell_pty = 0;
 
@@ -937,7 +940,7 @@
     fd_set read_set;	/* For `select' */
     int maxfdp;
     int bytes;		/* For the return value from `read' */
-    int i;		/* Loop counter */
+    int i,j;		/* Loop counter */
     
     struct timeval wtime; /* Maximum time we wait for the subshell */
     struct timeval *wptr;
@@ -1039,7 +1042,19 @@
 		    exit (1);
 		}
 
-		for (i=0; i<bytes; ++i)
+		if(subshell_blocks_ctrlo){
+		    if (pty_buffer[0] == subshell_switch_key &&
+                	subshell_ready==TRUE){
+		    	    subshell_state = INACTIVE;
+		    	    return TRUE;
+                	}
+		    // remove ctrl+o codes from buffer:
+		    for (i=0,j=0; i<bytes; ++i)
+			if (pty_buffer[i] != subshell_switch_key)
+                    	    pty_buffer[j++]=pty_buffer[i];
+		    bytes=j;
+                } else {
+		  for (i=0; i<bytes; ++i)
 		    if (pty_buffer[i] == subshell_switch_key)
 		    {
 			write (subshell_pty, pty_buffer, i);
@@ -1047,9 +1062,10 @@
 			    subshell_state = INACTIVE;
 			return TRUE;
 		    }
-
+                }
 		write (subshell_pty, pty_buffer, bytes);
-		subshell_ready = FALSE;
+	        subshell_ready = FALSE;
+
 	    } else {
 		return FALSE;
 	    }
diff -uNr mc-4.6.0/syntax/CVS/Entries amc-4.6/syntax/CVS/Entries
--- mc-4.6.0/syntax/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/syntax/CVS/Entries	Tue Oct 28 17:24:14 2003
@@ -0,0 +1,41 @@
+/Makefile.am/1.2/Mon Feb 10 23:49:36 2003//
+/Makefile.in/1.2/Mon Feb 10 23:49:36 2003//
+/Syntax/1.2/Mon Feb 10 23:24:43 2003//
+/ada95.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/bapc.syntax/1.1/Mon Feb 10 23:24:43 2003//
+/c.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/changelog.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/diff.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dos.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fortran.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/html.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/jasm.syntax/1.1/Mon Feb 10 23:24:43 2003//
+/java.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/js.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/latex.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/lisp.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/lsm.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/m4.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mail.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/makefile.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mhtml.syntax/1.1/Mon Feb 10 23:24:43 2003//
+/ml.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/nroff.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/octave.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pascal.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/perl.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/php.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/po.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/python.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sh.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slang.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/smalltalk.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/spec.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sql.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/swig.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/syntax.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tcl.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/texinfo.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/unknown.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xml.syntax/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/syntax/CVS/Repository amc-4.6/syntax/CVS/Repository
--- mc-4.6.0/syntax/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/syntax/CVS/Repository	Tue Oct 28 17:24:10 2003
@@ -0,0 +1 @@
+amc-4.6/syntax
diff -uNr mc-4.6.0/syntax/CVS/Root amc-4.6/syntax/CVS/Root
--- mc-4.6.0/syntax/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/syntax/CVS/Root	Tue Oct 28 17:24:10 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/syntax/Makefile.am amc-4.6/syntax/Makefile.am
--- mc-4.6.0/syntax/Makefile.am	Sun Sep 22 01:50:02 2002
+++ amc-4.6/syntax/Makefile.am	Mon Feb 10 23:49:36 2003
@@ -35,6 +35,9 @@
 	tcl.syntax		\
 	texinfo.syntax		\
 	unknown.syntax		\
-	xml.syntax
+	xml.syntax		\
+	bapc.syntax		\
+	mhtml.syntax		\
+	jasm.syntax
 
 EXTRA_DIST = $(syntax_DATA)
diff -uNr mc-4.6.0/syntax/Makefile.in amc-4.6/syntax/Makefile.in
--- mc-4.6.0/syntax/Makefile.in	Wed Feb  5 19:09:08 2003
+++ amc-4.6/syntax/Makefile.in	Mon Feb 10 23:49:36 2003
@@ -220,7 +220,10 @@
 	tcl.syntax		\
 	texinfo.syntax		\
 	unknown.syntax		\
-	xml.syntax
+	xml.syntax		\
+	bapc.syntax		\
+	mhtml.syntax		\
+	jasm.syntax
 
 
 EXTRA_DIST = $(syntax_DATA)
diff -uNr mc-4.6.0/syntax/Syntax amc-4.6/syntax/Syntax
--- mc-4.6.0/syntax/Syntax	Wed Feb  5 16:54:34 2003
+++ amc-4.6/syntax/Syntax	Mon Feb 10 23:24:42 2003
@@ -74,6 +74,15 @@
 file ..\*\\.(php|PHP)[0-9]?$ PHP\sProgram
 include php.syntax
 
+file ..\*\\.(bap|bp2|bp3|bpp|bpe|lib|l32)$ BAssPasC\sProgram
+include bapc.syntax
+
+file ..\*\\.(mhtml|mac)$ Macro-HTML\sSource
+include mhtml.syntax
+
+file ..\*\\.(jasm)$ JVM\sAssembly
+include jasm.syntax
+
 file ..\*\\.(java|JAVA|Java|jav)$ Java\sProgram
 include java.syntax
 
diff -uNr mc-4.6.0/syntax/bapc.syntax amc-4.6/syntax/bapc.syntax
--- mc-4.6.0/syntax/bapc.syntax	Thu Jan  1 01:00:00 1970
+++ amc-4.6/syntax/bapc.syntax	Mon Feb 10 23:24:42 2003
@@ -0,0 +1,209 @@
+# BAssPasC syntax definitions v1.0 for Midnight Commander 4.1.35 and 4.5.x
+# (C) 1999 by A'rpi/ESP-team  <arpi@esp-team.scene.hu>
+# BAPC is a programming language, visit http://esp-team.scene.hu for details!
+
+context default brightcyan
+
+# main BAPC commands:
+    keyword whole VAR white
+    keyword whole CONST white
+
+    keyword whole USES white
+    keyword whole INDIRECT white
+    keyword whole INDIRECTALL white
+    keyword whole INCLUDEPROC white
+    keyword whole INCLUDE white
+    keyword wholeleft INCLUDED white
+    keyword whole ALIGN white
+
+    keyword whole SMOV white
+    keyword whole RMOV white
+    keyword whole LDDM white
+    keyword whole SDDM white
+    keyword whole LDD white
+    keyword whole SDD white
+
+# IF-EQU
+    keyword whole if white
+    keyword whole ifn white
+    keyword whole else white
+    keyword whole endif white
+    
+# BAPC conditionals:
+    keyword whole IF white
+    keyword whole IFS white
+    keyword whole IFN white
+    keyword whole IFNS white
+    keyword whole DO white
+    keyword whole DOCMD white
+    keyword whole THEN white
+    keyword whole THENCMD white
+    keyword whole ELSE white
+    keyword whole ENDIF white
+    keyword whole WHILE white
+    keyword whole ENDWHILE white
+    keyword whole REPEAT white
+    keyword whole UNTIL white
+    keyword whole WITH white
+    keyword whole ENDWITH white
+    keyword whole CASE white
+    keyword whole END white
+    keyword whole ENDCASE white
+    keyword whole ENDM white
+# FOR is too complex, include only the most importants:
+    keyword whole FOR white
+    keyword whole FORL(+) white
+    keyword whole FORLP(+) white
+    keyword whole TO white
+    keyword whole STEP white
+    keyword whole NEXT white
+
+    keyword whole FLAG white
+    keyword whole CXZ white
+    keyword wholeright \s+:S white
+    keyword wholeright \s+:NS white
+    keyword whole AND white
+    keyword whole OR white
+    keyword whole NOT white
+    keyword whole IN[*] white
+    keyword whole NIN[*] white
+
+# one-line commands:
+    keyword wholeleft REP\*+\s white
+    keyword whole REP(+) white
+    keyword whole REP32 white
+    keyword whole PUSH(*) white
+    keyword whole PUSH white
+    keyword whole POP(*) white
+    keyword whole POP white
+
+# BAPC types:
+    keyword whole OFS white
+    keyword whole STROFS white
+    keyword whole OFSSTR white
+    keyword whole BPT white
+    keyword whole WPT white
+    keyword whole DPT white
+    keyword whole QPT white
+    keyword whole TPT white
+    keyword whole DB white
+    keyword whole DW white
+    keyword whole DD white
+    keyword whole DQ white
+    keyword whole DT white
+    keyword whole DT white
+    keyword whole PROC white
+    keyword whole NEAR white
+    keyword whole FAR white
+    keyword whole SHORT white
+
+# STDBAPC instructions
+    keyword whole WRITE yellow
+    keyword whole WRITELN yellow
+    keyword whole WRITESTR yellow
+    keyword whole GOTOXY yellow
+    keyword whole WHEREXY yellow
+    keyword whole UPCASE yellow
+    keyword whole ALDIV yellow
+    keyword whole DOSEXIT yellow
+    keyword whole EXIT yellow
+
+    keyword whole WAITKEY yellow
+    keyword whole READKEY yellow
+    keyword whole READSHIFT yellow
+    keyword wholeleft GETKEY yellow
+    keyword whole KEYPRESSED yellow
+    keyword whole KEYPRESSEDP yellow
+    
+    keyword whole FILEOPEN yellow
+    keyword whole FILEREAD yellow
+    keyword whole FILEWRITE yellow
+    keyword whole FILECLOSE yellow
+    keyword whole FILEPOS yellow
+    keyword whole FILEAPPEND yellow
+
+# BAPC library instructions
+# TOO MANY TO INCLUDE HERE :(
+
+# C-style comments:  /* ... */    
+    keyword /\* green
+    keyword \*/ green
+# BAPC1-style comments:					! fix it !
+    keyword whole linestart .COMMENT green
+    keyword whole linestart .ENDCOMM green
+    keyword whole linestart .ENDCOMMENT green
+    keyword whole linestart .comment green
+    keyword whole linestart .endcomm green
+    keyword whole linestart .endcomment green
+
+# BAPC command separator:
+    keyword // brightmagenta
+
+    keyword {+\s brightmagenta
+    keyword {+\n brightmagenta
+    keyword } brightmagenta
+
+# BAPC operators:
+    keyword := white
+    keyword equ white
+    keyword EQU white
+    keyword -> white
+    keyword => white
+    keyword ?= white
+    keyword >> white
+    keyword << white
+    keyword >0> white
+    keyword <0< white
+    keyword >C> white
+    keyword <C< white
+    keyword \+= white
+    keyword -= white
+    keyword \+\+ white
+    keyword -- white
+    keyword ! yellow
+
+# strings:
+    keyword '*' brightgreen
+
+# addressing:
+    keyword [*] cyan
+    
+# other operators:    
+    keyword \+ yellow
+    keyword > yellow
+    keyword < yellow
+    keyword \* yellow
+#    keyword / yellow
+    keyword % yellow
+    keyword != yellow
+    keyword == yellow
+
+    keyword ( white
+    keyword ) white
+
+    keyword = white
+    keyword - yellow
+    
+    keyword , white
+    keyword : white
+    
+# one-line comment:
+    keyword ;*\n lightgray
+
+context exclusive /\* \*/ lightgray
+
+# These rules don't work :(  but why?????
+# context exclusive linestart .COMMENT .ENDCOMM lightgray
+# context exclusive linestart .comment .endcomm lightgray
+
+# Compiler control:
+context linestart . \n brightred
+    keyword ;*\n lightgray
+    keyword \s+\n white
+    keyword \s+\s white
+
+# macro def.:
+context linestart # \n brightred
+
+
+###############################################################################
diff -uNr mc-4.6.0/syntax/jasm.syntax amc-4.6/syntax/jasm.syntax
--- mc-4.6.0/syntax/jasm.syntax	Thu Jan  1 01:00:00 1970
+++ amc-4.6/syntax/jasm.syntax	Mon Feb 10 23:24:42 2003
@@ -0,0 +1,180 @@
+#    Java assembly -- JDisAsm syntax -- (C) 2000. A'rpi/ESP-team
+#  Syntax hilight definition file for Midnight Commander / CoolEdit
+
+context default
+#    keyword whole interface yellow/24
+    keyword whole invoke yellow/24
+#    keyword whole special yellow/24
+#    keyword whole static yellow/24
+#    keyword whole virtual yellow/24
+    keyword whole array yellow/24
+    keyword wholeright [idx] yellow/24
+    keyword whole const yellow/24
+#    keyword whole field yellow/24
+    keyword whole null yellow/24
+
+# mnemonics:
+    keyword whole push yellow/24
+    keyword whole push2 yellow/24
+    keyword whole pop yellow/24
+    keyword whole pop2 yellow/24
+    keyword whole dup yellow/24
+    keyword whole dup2 yellow/24
+    keyword whole goto yellow/24
+    keyword whole return yellow/24
+    keyword whole new yellow/24
+    keyword whole new yellow/24
+    keyword whole nop yellow/24
+    keyword whole swap yellow/24
+    keyword whole iadd yellow/24
+    keyword whole ladd yellow/24
+    keyword whole fadd yellow/24
+    keyword whole dadd yellow/24
+    keyword whole isub yellow/24
+    keyword whole lsub yellow/24
+    keyword whole fsub yellow/24
+    keyword whole dsub yellow/24
+    keyword whole imul yellow/24
+    keyword whole lmul yellow/24
+    keyword whole fmul yellow/24
+    keyword whole dmul yellow/24
+    keyword whole idiv yellow/24
+    keyword whole ldiv yellow/24
+    keyword whole fdiv yellow/24
+    keyword whole ddiv yellow/24
+    keyword whole irem yellow/24
+    keyword whole lrem yellow/24
+    keyword whole frem yellow/24
+    keyword whole drem yellow/24
+    keyword whole ineg yellow/24
+    keyword whole lneg yellow/24
+    keyword whole fneg yellow/24
+    keyword whole dneg yellow/24
+    keyword whole ishl yellow/24
+    keyword whole lshl yellow/24
+    keyword whole ishr yellow/24
+    keyword whole lshr yellow/24
+    keyword whole iushr yellow/24
+    keyword whole lushr yellow/24
+    keyword whole iand yellow/24
+    keyword whole land yellow/24
+    keyword whole ior yellow/24
+    keyword whole lor yellow/24
+    keyword whole ixor yellow/24
+    keyword whole lxor yellow/24
+    keyword whole iinc yellow/24
+    keyword whole i2l yellow/24
+    keyword whole i2f yellow/24
+    keyword whole i2d yellow/24
+    keyword whole l2i yellow/24
+    keyword whole l2f yellow/24
+    keyword whole l2d yellow/24
+    keyword whole f2i yellow/24
+    keyword whole f2l yellow/24
+    keyword whole f2d yellow/24
+    keyword whole d2i yellow/24
+    keyword whole d2l yellow/24
+    keyword whole d2f yellow/24
+    keyword whole i2b yellow/24
+    keyword whole i2c yellow/24
+    keyword whole i2s yellow/24
+    keyword whole cmp yellow/24
+    keyword whole call yellow/24
+    keyword whole ret yellow/24
+    keyword whole arraylength yellow/24
+    keyword whole athrow yellow/24
+    keyword whole checkcast yellow/24
+    keyword whole instanceof yellow/24
+    keyword whole monitor yellow/24
+    keyword whole wide yellow/24
+    keyword whole new yellow/24
+    keyword whole breakpoint yellow/24
+
+
+    keyword whole if\s\s\s\s*\sgoto yellow/24
+    keyword whole if\s*\sgoto yellow/24
+
+    keyword whole int white/24
+    keyword whole float white/24
+    keyword whole double white/24
+    keyword whole byte white/24
+    keyword whole char white/24
+    keyword whole long white/24
+    keyword whole short white/24
+    keyword whole objref white/24
+    keyword whole void white/24
+    keyword whole boolean white/24
+
+    keyword ST[*] brightmagenta/19
+
+#    keyword whole (*) white/14
+    keyword wholeright (*) brightcyan/14
+
+    keyword interface\s*\s brightcyan/14
+    keyword virtual\s*\s brightcyan/14
+    keyword static\s*\s brightcyan/14
+    keyword special\s*\s brightcyan/14
+    keyword field\s*\s brightcyan/14
+    keyword Field\:\s*\s brightcyan/14
+
+    keyword \`\- brightgreen/16
+    keyword \,\- brightgreen/16
+    keyword \|\- brightgreen/16
+    keyword \|\s brightgreen/16
+
+    keyword \{*\} brightred/24
+
+#    keyword \s*\s\{ brightcyan/14
+
+    keyword LOC_*\s brightgreen/16
+    keyword LOC_*\n brightgreen/16
+
+    keyword F\s\#*\: white/24
+    keyword F\s\#\s*\: white/24
+    keyword F\s\#\s\s*\: white/24
+    keyword M\s\#*\: white/24
+    keyword M\s\#\s*\: white/24
+    keyword M\s\#\s\s*\: white/24
+    keyword A\s\#*\: white/24
+    keyword A\s\#\s*\: white/24
+    keyword A\s\#\s\s*\: white/24
+
+
+#    keyword invoke*\( brightcyan/14
+# context \{ \} brightred/24
+#    keyword /\* brown/22
+#    keyword \*/ brown/22
+
+# context if goto yellow/24
+
+
+context " " green/6
+    keyword \\" brightgreen/16
+    keyword %% brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[L\]e brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[L\]E brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[L\]f brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[L\]g brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[L\]G brightgreen/16
+    keyword %\[0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[hl\]d brightgreen/16
+    keyword %\[0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[hl\]i brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[hl\]o brightgreen/16
+    keyword %\[0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[hl\]u brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[hl\]x brightgreen/16
+    keyword %\[#0\s-\+,\]\[0123456789\]\[.\]\[0123456789\]\[hl\]X brightgreen/16
+    keyword %\[hl\]n brightgreen/16
+    keyword %\[.\]\[0123456789\]s brightgreen/16
+    keyword %[*] brightgreen/16
+    keyword %c brightgreen/16
+    keyword \\\\ brightgreen/16
+    keyword \\' brightgreen/16
+    keyword \\a brightgreen/16
+    keyword \\b brightgreen/16
+    keyword \\t brightgreen/16
+    keyword \\n brightgreen/16
+    keyword \\v brightgreen/16
+    keyword \\f brightgreen/16
+    keyword \\r brightgreen/16
+    keyword \\0 brightgreen/16
+
+
diff -uNr mc-4.6.0/syntax/mhtml.syntax amc-4.6/syntax/mhtml.syntax
--- mc-4.6.0/syntax/mhtml.syntax	Thu Jan  1 01:00:00 1970
+++ amc-4.6/syntax/mhtml.syntax	Mon Feb 10 23:24:42 2003
@@ -0,0 +1,52 @@
+# modified by A'rpi/ESP-team  <arpi@esp-team.scene.hu>
+
+context default
+# brightcyan/17
+    keyword whole &*; brightgreen/16
+    keyword $+(*) yellow/18
+    keyword $+\s yellow/18
+    keyword $+\n yellow/18
+    keyword $+$ yellow/18
+    keyword $B yellow/18
+    keyword $I yellow/18
+    keyword $BI yellow/18
+    keyword $U yellow/18
+    keyword $R yellow/18
+    keyword ( yellow/18
+    keyword ) yellow/18
+    keyword #+= brightred/11
+    keyword # brightred/11
+
+    keyword %1 yellow/26
+    keyword %2 yellow/26
+    keyword %3 yellow/26
+    keyword %4 yellow/26
+    keyword %5 yellow/26
+
+context <!-- --> brightmagenta/26
+context ` ` brightmagenta/26
+
+context exclusive $+( ) white/26
+    keyword whole &*; brightgreen/16
+    keyword %1 yellow/26
+    keyword %2 yellow/26
+    keyword %3 yellow/26
+    keyword %4 yellow/26
+    keyword %5 yellow/26
+
+#context $+( ) yellow/18
+#    keyword (*) white/26
+#    keyword whole &*; brightgreen/16
+
+#context exclusive $I( ) white/26
+#context exclusive $U( ) white/26
+#context exclusive $BI( ) white/26
+
+#context #+= # brightgreen/16
+#    keyword #+= white/26
+
+context < > brightcyan/17
+    keyword whole "*" cyan/5
+    keyword "*" cyan/5
+
+###############################################################################
diff -uNr mc-4.6.0/vfs/CVS/Entries amc-4.6/vfs/CVS/Entries
--- mc-4.6.0/vfs/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/CVS/Entries	Tue Oct 28 17:24:36 2003
@@ -0,0 +1,36 @@
+/ChangeLog/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.am/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/README/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/README.fish/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/cpio.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/direntry.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/extfs.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/extfs.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fish.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/fish.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ftpfs.c/1.2/Sun Feb 16 17:30:05 2003//
+/ftpfs.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/local.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/local.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcfs.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcfs.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcfsutil.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcfsutil.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mcserv.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/names.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/names.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sfs.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/smbfs.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/smbfs.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tar.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tar.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tcputil.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/tcputil.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/undelfs.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/utilvfs.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/utilvfs.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/vfs.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/vfs.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/xdirentry.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/CVS/Entries.Log amc-4.6/vfs/CVS/Entries.Log
--- mc-4.6.0/vfs/CVS/Entries.Log	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/CVS/Entries.Log	Tue Oct 28 17:24:42 2003
@@ -0,0 +1,2 @@
+A D/extfs////
+A D/samba////
diff -uNr mc-4.6.0/vfs/CVS/Repository amc-4.6/vfs/CVS/Repository
--- mc-4.6.0/vfs/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/CVS/Repository	Tue Oct 28 17:24:14 2003
@@ -0,0 +1 @@
+amc-4.6/vfs
diff -uNr mc-4.6.0/vfs/CVS/Root amc-4.6/vfs/CVS/Root
--- mc-4.6.0/vfs/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/CVS/Root	Tue Oct 28 17:24:14 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/vfs/extfs/CVS/Entries amc-4.6/vfs/extfs/CVS/Entries
--- mc-4.6.0/vfs/extfs/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/extfs/CVS/Entries	Tue Oct 28 17:24:42 2003
@@ -0,0 +1,29 @@
+/Makefile.am/1.2/Mon Feb 10 23:47:58 2003//
+/Makefile.in/1.2/Mon Feb 10 23:47:37 2003//
+/README/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/a.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/apt.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/audio.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/bpp/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/deb.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/deba.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/debd.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dpkg.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/extfs.ini/1.2/Mon Feb 10 23:47:58 2003//
+/hp48.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/lslR.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/mailfs.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/patchfs.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpm/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpms.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/sfs.ini/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/trpm/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uar.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uarj.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uesp/1.1/Mon Feb 10 23:20:32 2003//
+/uha.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ulha.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/urar.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uzip.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/uzoo.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/extfs/CVS/Repository amc-4.6/vfs/extfs/CVS/Repository
--- mc-4.6.0/vfs/extfs/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/extfs/CVS/Repository	Tue Oct 28 17:24:36 2003
@@ -0,0 +1 @@
+amc-4.6/vfs/extfs
diff -uNr mc-4.6.0/vfs/extfs/CVS/Root amc-4.6/vfs/extfs/CVS/Root
--- mc-4.6.0/vfs/extfs/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/extfs/CVS/Root	Tue Oct 28 17:24:36 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/vfs/extfs/Makefile.am amc-4.6/vfs/extfs/Makefile.am
--- mc-4.6.0/vfs/extfs/Makefile.am	Sat Dec 14 03:46:04 2002
+++ amc-4.6/vfs/extfs/Makefile.am	Mon Feb 10 23:47:58 2003
@@ -4,7 +4,7 @@
 EXTFS_MISC  = README extfs.ini sfs.ini
 
 # Scripts hat don't need adaptation to the local system
-EXTFS_CONST = bpp rpm trpm
+EXTFS_CONST = bpp rpm trpm uesp
 
 # Scripts that need adaptation to the local system - source files
 EXTFS_IN    = 			\
diff -uNr mc-4.6.0/vfs/extfs/Makefile.in amc-4.6/vfs/extfs/Makefile.in
--- mc-4.6.0/vfs/extfs/Makefile.in	Wed Feb  5 19:09:10 2003
+++ amc-4.6/vfs/extfs/Makefile.in	Mon Feb 10 23:47:36 2003
@@ -189,7 +189,7 @@
 EXTFS_MISC = README extfs.ini sfs.ini
 
 # Scripts hat don't need adaptation to the local system
-EXTFS_CONST = bpp rpm trpm
+EXTFS_CONST = bpp rpm trpm uesp
 
 # Scripts that need adaptation to the local system - source files
 EXTFS_IN = \
diff -uNr mc-4.6.0/vfs/extfs/extfs.ini amc-4.6/vfs/extfs/extfs.ini
--- mc-4.6.0/vfs/extfs/extfs.ini	Mon Dec  9 15:16:32 2002
+++ amc-4.6/vfs/extfs/extfs.ini	Mon Feb 10 23:47:58 2003
@@ -7,6 +7,7 @@
 ulha
 urar
 uha
+uesp
 # For arj usage you need a special patch to unarj (see unarj.diff)
 uarj
 
diff -uNr mc-4.6.0/vfs/extfs/uesp amc-4.6/vfs/extfs/uesp
--- mc-4.6.0/vfs/extfs/uesp	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/extfs/uesp	Mon Feb 10 23:20:32 2003
@@ -0,0 +1,15 @@
+#! /bin/sh
+#
+# EXTfs script for Midnight Commander 4.x.x
+# read details in README.MC
+#
+# Written by A'rpi/ESP-team  1999
+#
+
+case "$1" in
+  list) unesp vm $2; exit 0;;
+  copyout)
+    unesp eym $2 $4 /$3 >2 /dev/null
+    exit 0;;
+esac
+exit 1
diff -uNr mc-4.6.0/vfs/ftpfs.c amc-4.6/vfs/ftpfs.c
--- mc-4.6.0/vfs/ftpfs.c	Thu Dec 26 03:21:42 2002
+++ amc-4.6/vfs/ftpfs.c	Sun Feb 16 17:30:04 2003
@@ -652,6 +652,8 @@
 	ftpfs_get_proxy_host_and_port (ftpfs_proxy_host, &host, &port);
 	free_host = 1;
     }
+
+    enable_interrupt_key(); /* clear the interrupt flag */
     
     /* Get host address */
     memset ((char *) &server_address, 0, sizeof (server_address));
@@ -660,6 +662,7 @@
     if (server_address.sin_addr.s_addr == INADDR_NONE) {
 	hp = gethostbyname (host);
 	if (hp == NULL){
+            disable_interrupt_key();
 	    print_vfs_message (_("ftpfs: Invalid host address."));
 	    my_errno = EINVAL;
 	    if (free_host)
@@ -676,6 +679,7 @@
 
     /* Connect */
     if ((my_socket = socket (AF_INET, SOCK_STREAM, 0)) < 0) {
+        disable_interrupt_key();
 	my_errno = errno;
         if (free_host)
 	    g_free (host);
@@ -686,8 +690,6 @@
     print_vfs_message (_("ftpfs: making connection to %s"), host);
     if (free_host)
 	g_free (host);
-
-    enable_interrupt_key (); /* clear the interrupt flag */
 
     if (connect (my_socket, (struct sockaddr *) &server_address,
 	     sizeof (server_address)) < 0){
diff -uNr mc-4.6.0/vfs/samba/CVS/Entries amc-4.6/vfs/samba/CVS/Entries
--- mc-4.6.0/vfs/samba/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/CVS/Entries	Tue Oct 28 17:24:50 2003
@@ -0,0 +1,8 @@
+/Makefile.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/aclocal.m4/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/architecture.doc/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/configure/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/configure.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/internals.doc/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/parsing.doc/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/samba/CVS/Entries.Log amc-4.6/vfs/samba/CVS/Entries.Log
--- mc-4.6.0/vfs/samba/CVS/Entries.Log	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/CVS/Entries.Log	Tue Oct 28 17:25:26 2003
@@ -0,0 +1,5 @@
+A D/include////
+A D/lib////
+A D/libsmb////
+A D/param////
+A D/tests////
diff -uNr mc-4.6.0/vfs/samba/CVS/Repository amc-4.6/vfs/samba/CVS/Repository
--- mc-4.6.0/vfs/samba/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/CVS/Repository	Tue Oct 28 17:24:42 2003
@@ -0,0 +1 @@
+amc-4.6/vfs/samba
diff -uNr mc-4.6.0/vfs/samba/CVS/Root amc-4.6/vfs/samba/CVS/Root
--- mc-4.6.0/vfs/samba/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/CVS/Root	Tue Oct 28 17:24:42 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/vfs/samba/include/CVS/Entries amc-4.6/vfs/samba/include/CVS/Entries
--- mc-4.6.0/vfs/samba/include/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/include/CVS/Entries	Tue Oct 28 17:25:04 2003
@@ -0,0 +1,27 @@
+/byteorder.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/charset.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/client.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/config.h.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/dlinklist.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/includes.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/kanji.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/local.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/nameserv.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/ntdomain.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/nterr.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/proto.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_dce.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_lsa.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_misc.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_netlogon.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_reg.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_samr.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_secdes.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_srvsvc.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpc_wkssvc.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/rpcclient.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/smb.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/stamp-h.in/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/trans2.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/version.h/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/samba/include/CVS/Repository amc-4.6/vfs/samba/include/CVS/Repository
--- mc-4.6.0/vfs/samba/include/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/include/CVS/Repository	Tue Oct 28 17:24:50 2003
@@ -0,0 +1 @@
+amc-4.6/vfs/samba/include
diff -uNr mc-4.6.0/vfs/samba/include/CVS/Root amc-4.6/vfs/samba/include/CVS/Root
--- mc-4.6.0/vfs/samba/include/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/include/CVS/Root	Tue Oct 28 17:24:50 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/vfs/samba/lib/CVS/Entries amc-4.6/vfs/samba/lib/CVS/Entries
--- mc-4.6.0/vfs/samba/lib/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/lib/CVS/Entries	Tue Oct 28 17:25:10 2003
@@ -0,0 +1,19 @@
+/charcnv.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/charset.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/debug.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/doscalls.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/genrand.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/interface.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/kanji.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/md4.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/netmask.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/slprintf.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/system.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/time.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/username.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_file.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_sock.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_str.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/util_unistr.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/samba/lib/CVS/Repository amc-4.6/vfs/samba/lib/CVS/Repository
--- mc-4.6.0/vfs/samba/lib/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/lib/CVS/Repository	Tue Oct 28 17:25:04 2003
@@ -0,0 +1 @@
+amc-4.6/vfs/samba/lib
diff -uNr mc-4.6.0/vfs/samba/lib/CVS/Root amc-4.6/vfs/samba/lib/CVS/Root
--- mc-4.6.0/vfs/samba/lib/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/lib/CVS/Root	Tue Oct 28 17:25:04 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/vfs/samba/libsmb/CVS/Entries amc-4.6/vfs/samba/libsmb/CVS/Entries
--- mc-4.6.0/vfs/samba/libsmb/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/libsmb/CVS/Entries	Tue Oct 28 17:25:22 2003
@@ -0,0 +1,9 @@
+/clientgen.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/namequery.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/nmblib.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/nterr.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/pwd_cache.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/smbdes.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/smbencrypt.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/smberr.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/samba/libsmb/CVS/Repository amc-4.6/vfs/samba/libsmb/CVS/Repository
--- mc-4.6.0/vfs/samba/libsmb/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/libsmb/CVS/Repository	Tue Oct 28 17:25:10 2003
@@ -0,0 +1 @@
+amc-4.6/vfs/samba/libsmb
diff -uNr mc-4.6.0/vfs/samba/libsmb/CVS/Root amc-4.6/vfs/samba/libsmb/CVS/Root
--- mc-4.6.0/vfs/samba/libsmb/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/libsmb/CVS/Root	Tue Oct 28 17:25:10 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/vfs/samba/param/CVS/Entries amc-4.6/vfs/samba/param/CVS/Entries
--- mc-4.6.0/vfs/samba/param/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/param/CVS/Entries	Tue Oct 28 17:25:26 2003
@@ -0,0 +1,3 @@
+/loadparm.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/params.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/samba/param/CVS/Repository amc-4.6/vfs/samba/param/CVS/Repository
--- mc-4.6.0/vfs/samba/param/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/param/CVS/Repository	Tue Oct 28 17:25:22 2003
@@ -0,0 +1 @@
+amc-4.6/vfs/samba/param
diff -uNr mc-4.6.0/vfs/samba/param/CVS/Root amc-4.6/vfs/samba/param/CVS/Root
--- mc-4.6.0/vfs/samba/param/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/param/CVS/Root	Tue Oct 28 17:25:22 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi
diff -uNr mc-4.6.0/vfs/samba/tests/CVS/Entries amc-4.6/vfs/samba/tests/CVS/Entries
--- mc-4.6.0/vfs/samba/tests/CVS/Entries	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/tests/CVS/Entries	Tue Oct 28 17:25:26 2003
@@ -0,0 +1,5 @@
+/README/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/getgroups.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/summary.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+/trivial.c/1.1.1.1/Mon Feb 10 23:16:45 2003//
+D
diff -uNr mc-4.6.0/vfs/samba/tests/CVS/Repository amc-4.6/vfs/samba/tests/CVS/Repository
--- mc-4.6.0/vfs/samba/tests/CVS/Repository	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/tests/CVS/Repository	Tue Oct 28 17:25:26 2003
@@ -0,0 +1 @@
+amc-4.6/vfs/samba/tests
diff -uNr mc-4.6.0/vfs/samba/tests/CVS/Root amc-4.6/vfs/samba/tests/CVS/Root
--- mc-4.6.0/vfs/samba/tests/CVS/Root	Thu Jan  1 01:00:00 1970
+++ amc-4.6/vfs/samba/tests/CVS/Root	Tue Oct 28 17:25:26 2003
@@ -0,0 +1 @@
+:pserver:anonymous@mplayerhq.hu:/cvsroot/arpi

Only in pth-2.0.7: Makefile
diff -rup pth-2.0.7.orig/Makefile.in pth-2.0.7/Makefile.in
--- pth-2.0.7.orig/Makefile.in	2023-07-12 11:56:30.499464387 +0200
+++ pth-2.0.7/Makefile.in	2023-07-12 12:01:05.759395378 +0200
@@ -428,7 +428,7 @@ TAGS:
 ##  (AUTOMATICALLY UPDATED - DO NOT EDIT)
 ##
 
-$(LOBJS): Makefile
+$(PLOBJS) $(LOBJS): Makefile pth_p.h
 
 # DO NOT REMOVE
 pth_attr.lo: pth_attr.c pth_p.h pth_vers.c pth.h pth_acdef.h pth_acmac.h
diff -rup pth-2.0.7.orig/pth_lib.c pth-2.0.7/pth_lib.c
--- pth-2.0.7.orig/pth_lib.c	2006-06-08 19:54:03.000000000 +0200
+++ pth-2.0.7/pth_lib.c	2023-07-12 12:03:55.399352546 +0200
@@ -378,6 +378,9 @@ intern int pth_thread_exists(pth_t t)
 /* cleanup a particular thread */
 intern void pth_thread_cleanup(pth_t thread)
 {
+	if (thread == NULL)
+		return;
+
     /* run the cleanup handlers */
     if (thread->cleanups != NULL)
         pth_cleanup_popall(thread, TRUE);
@@ -388,8 +391,6 @@ intern void pth_thread_cleanup(pth_t thr
 
     /* release still acquired mutex variables */
     pth_mutex_releaseall(thread);
-
-    return;
 }
 
 /* terminate the current thread */

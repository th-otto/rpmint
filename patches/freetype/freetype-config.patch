--- a/configure.in.orig	2023-03-23 14:20:50.841416230 +0100
+++ b/configure.in	2023-03-23 14:21:34.357368540 +0100
@@ -28,6 +28,7 @@ AC_CANONICAL_SYSTEM
 dnl Checks for programs.
 AC_PROG_CC
 AC_PROG_CPP
+AC_PROG_MAKE_SET
 
 dnl get Compiler flags right.
 
@@ -59,7 +60,6 @@ AC_SUBST(version_info)
 
 dnl gettext support
 if test "$USE_NLS" = "yes"; then
-  AC_REQUIRE([AC_PROG_MAKE_SET])
   AC_CHECK_HEADERS(locale.h)
   AC_CHECK_FUNCS(setlocale)
   AC_SUBST(HAVE_LOCALE_H)  
--- a/test/fttimer.c.orig	2023-03-23 14:37:58.440295253 +0100
+++ b/test/fttimer.c	2023-03-23 14:38:17.140274869 +0100
@@ -74,7 +74,7 @@
   int             cur_point;
   unsigned short  cur_contour;
 
-  TT_Raster_Map  Bit;
+  extern TT_Raster_Map  Bit;
 
   int  Fail;
   int  Num;
--- a/test/ftdump.c.orig	2023-03-23 14:25:24.705116891 +0100
+++ b/test/ftdump.c	2023-03-23 14:28:43.940899706 +0100
@@ -140,7 +140,7 @@
     old_memory += *var;
   }
 
-#define FOOTPRINT( field )  Save_Memory( &memory_footprint.##field )
+#define FOOTPRINT( field )  Save_Memory( &memory_footprint.field )
 
 
   static void
@@ -153,7 +153,7 @@
   }
 
 #define PRINT_MEM( field, string ) \
-          Print_Mem( memory_footprint.##field, string )
+          Print_Mem( memory_footprint.field, string )
 
 
   /* Print the memory footprint */
 install: $(PROGRAMS)
--- a/test/ftzoom.c.orig	2023-03-23 14:38:34.896255513 +0100
+++ b/test/ftzoom.c	2023-03-23 14:40:10.260151558 +0100
@@ -105,7 +105,7 @@
   int        xoffset;
   int        yoffset;
 
-  TT_Raster_Map  Bit;
+  extern TT_Raster_Map  Bit;
 
   int  Fail;
   int  Num;
@@ -492,8 +492,8 @@
 
     if ( i >= 0 )
     {
-      strncpy( filename + strlen( filename ), ".ttf", 4 );
-      strncpy( alt_filename + strlen( alt_filename ), ".ttc", 4 );
+      strcpy( filename + strlen( filename ), ".ttf" );
+      strcpy( alt_filename + strlen( alt_filename ), ".ttc" );
     }
 
     if ( platform >= 0 || encoding >= 0 )
--- a/net.m4.orig	2023-03-23 14:21:48.881352623 +0100
+++ b/net.m4	2023-03-23 14:22:00.069340362 +0100
@@ -32,7 +32,7 @@ dnl
 dnl The check for libresolv is in case you are attempting to link statically
 dnl and happen to have a libresolv.a lying around (and no libnsl.a).
 dnl
-AC_DEFUN(AC_LIBRARY_NET, [
+AC_DEFUN([AC_LIBRARY_NET], [
    # Most operating systems have gethostbyname() in the default searched
    # libraries (i.e. libc):
    AC_CHECK_FUNC(gethostbyname, ,

--- a/lib/rpmrc.c.orig	2014-07-03 15:11:48.572096075 +0000
+++ b/lib/rpmrc.c	2014-09-17 12:04:27.330717791 +0000
@@ -79,10 +79,12 @@ struct rpmOption {
     int localize;
 };
 
+#if defined(__linux__) && (defined(__powerpc__) || defined(__sparc__) || (defined(__arm__) && defined(__ARM_PCS_VFP)))
 static struct rpmat_s {
     const char *platform;
     uint64_t hwcap;
 } rpmat;
+#endif
 
 typedef struct defaultEntry_s {
     char * name;
@@ -949,7 +951,7 @@ static int is_geode(void)
 #endif
 
 
-#if defined(__linux__)
+#if defined(__linux__) && (defined(__powerpc__) || defined(__sparc__) || (defined(__arm__) && defined(__ARM_PCS_VFP)))
 /**
  * Populate rpmat structure with auxv values
  */
@@ -1005,7 +1007,7 @@ static void defaultMachine(rpmrcCtx ctx,
     canonEntry canon;
     int rc;
 
-#if defined(__linux__)
+#if defined(__linux__) && (defined(__powerpc__) || defined(__sparc__) || (defined(__arm__) && defined(__ARM_PCS_VFP)))
     /* Populate rpmat struct with hw info */
     read_auxv();
 #endif

--- a/graph/grfill.c.orig	2023-03-24 09:41:34.050774699 +0100
+++ b/graph/grfill.c	2023-03-24 09:41:40.414767377 +0100
@@ -1,6 +1,6 @@
 #include "graph.h"
 #include <stdlib.h>
-#include <memory.h>
+#include <string.h>
 
 static void
 gr_fill_hline_mono( unsigned char*   line,
--- a/graph/grswizzle.c.orig	2023-03-24 09:40:42.850833604 +0100
+++ b/graph/grswizzle.c	2023-03-24 09:40:59.702814215 +0100
@@ -5,7 +5,7 @@
  *  this filtering code is explicitly placed in the public domain !!
  */
 #include <stdlib.h>
-#include <memory.h>
+#include <string.h>
 
 #include "grswizzle.h"
 
--- a/graph/x11/rules.mk.orig	2023-03-24 10:10:11.156931371 +0100
+++ b/graph/x11/rules.mk	2023-03-24 10:12:58.024766142 +0100
@@ -68,8 +68,8 @@ endif
 #
 ifneq ($(X11_PATH),)
 
-  X11_INCLUDE := $(subst /,$(COMPILER_SEP),$(X11_PATH:%=%/include))
-  X11_LIB     := $(subst /,$(COMPILER_SEP),$(X11_PATH:%=%/lib64) \
+  # X11_INCLUDE := $(subst /,$(COMPILER_SEP),$(X11_PATH:%=%/include))
+  # X11_LIB     := $(subst /,$(COMPILER_SEP),$(X11_PATH:%=%/lib64) \
                                            $(X11_PATH:%=%/lib))
 
   # The GRAPH_LINK variable is expanded each time an executable is linked
--- a/graph/rules.mk.orig	2023-03-24 10:08:11.253051897 +0100
+++ b/graph/rules.mk	2023-03-24 10:16:08.224585587 +0100
@@ -51,11 +51,12 @@ GRAPH_OBJS := $(OBJ_DIR_2)/gblblit.$(O)
 # Default value for COMPILE_GRAPH_LIB;
 # this value can be modified by the system-specific graphics drivers.
 #
+LIBTOOL =
 ifneq ($(LIBTOOL),)
   COMPILE_GRAPH_LIB = $(LIBTOOL) --mode=link $(CCraw) -static \
                                  -o $(subst /,$(COMPILER_SEP),$@ $(GRAPH_OBJS))
 else
-  COMPILE_GRAPH_LIB = ar -r $(subst /,$(COMPILER_SEP),$@ $(GRAPH_OBJS))
+  COMPILE_GRAPH_LIB = $(AR) rcs $(subst /,$(COMPILER_SEP),$@ $(GRAPH_OBJS))
 endif
 
 
--- a/graph/x11/grx11.c.orig	2023-03-24 16:59:43.526511522 +0100
+++ b/graph/x11/grx11.c	2023-03-24 17:02:44.034338322 +0100
@@ -683,6 +683,12 @@
     gr_x11_convert_rgb_to_rgb8880,
     gr_x11_convert_gray_to_rgb8880
   };
+  static const grX11Format  gr_x11_format_rgb888X =
+  {
+    24, 32, 0xFF000000UL, 0x00FF0000L, 0x0000FF00U,
+    gr_x11_convert_rgb_to_rgb8880,
+    gr_x11_convert_gray_to_rgb8880
+  };
 
 
   /************************************************************************/
@@ -763,6 +769,12 @@
     gr_x11_convert_rgb_to_rgb0888,
     gr_x11_convert_gray_to_rgb0888
   };
+  static const grX11Format  gr_x11_format_rgbX888 =
+  {
+    32, 32, 0x00FF0000L, 0x0000FF00U, 0x000000FF,
+    gr_x11_convert_rgb_to_rgb0888,
+    gr_x11_convert_gray_to_rgb0888
+  };
 
 
   /************************************************************************/
@@ -812,6 +824,12 @@
     gr_x11_convert_rgb_to_bgr8880,
     gr_x11_convert_gray_to_rgb8880  /* the same for bgr8880 */
   };
+  static const grX11Format  gr_x11_format_bgr888X =
+  {
+    32, 32, 0x0000FF00U, 0x00FF0000L, 0xFF000000UL,
+    gr_x11_convert_rgb_to_bgr8880,
+    gr_x11_convert_gray_to_rgb8880  /* the same for bgr8880 */
+  };
 
 
   /************************************************************************/
@@ -861,6 +879,12 @@
     gr_x11_convert_rgb_to_bgr0888,
     gr_x11_convert_gray_to_rgb0888  /* the same for bgr0888 */
   };
+  static const grX11Format  gr_x11_format_bgrX888 =
+  {
+    32, 32, 0x000000FF, 0x0000FF00U, 0x00FF0000L,
+    gr_x11_convert_rgb_to_bgr0888,
+    gr_x11_convert_gray_to_rgb0888  /* the same for bgr0888 */
+  };
 
 
   /************************************************************************/
@@ -880,9 +904,13 @@
     &gr_x11_format_rgb888,
     &gr_x11_format_bgr888,
     &gr_x11_format_rgb0888,
+    &gr_x11_format_rgbX888,
     &gr_x11_format_bgr0888,
+    &gr_x11_format_bgrX888,
     &gr_x11_format_rgb8880,
+    &gr_x11_format_rgb888X,
     &gr_x11_format_bgr8880,
+    &gr_x11_format_bgr888X,
     NULL
   };
 
